:root{
  --bg:#0f172a;          /* slate-900 */
  --panel:#111827;       /* gray-900 */
  --muted:#9ca3af;       /* gray-400 */
  --text:#e5e7eb;        /* gray-200 */
  --accent:#22c55e;      /* green-500 */
  --ring:#334155;        /* slate-700 */
  --chip:#1f2937;        /* gray-800 */

  --low:#2DC937;
  --moderate:#99C140;
  --high:#E7B416;
  --veryHigh:#DB7B2B;
  --severe:#CC3232;
}

*{ box-sizing:border-box }
body{
  margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  color:var(--text); background:var(--bg); height:100vh; display:grid; grid-template-columns:340px 1fr; overflow:hidden;
}

/* Sidebar */
.sidebar{
  display:flex; flex-direction:column; height:100vh; border-right:1px solid var(--ring); background:var(--panel);
}
.brand{ padding:16px 16px 8px 16px; border-bottom:1px solid var(--ring); }
.brand h1{ margin:0; font-size:18px; letter-spacing:.3px }
.brand small{ color:var(--muted) }

.controls{ padding:14px 16px; display:grid; gap:12px; border-bottom:1px solid var(--ring); }
.search{ display:flex; gap:8px }
.search input{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--ring); background:#0b1220; color:var(--text);
}
.search button{
  border:none; background:var(--accent); color:#03280e; padding:10px 12px; border-radius:10px; cursor:pointer; font-weight:600;
}
.legend{
  display:grid; gap:8px; font-size:13px;
  background:#0b1220; border:1px solid var(--ring); border-radius:14px; padding:10px 12px;
}
.legend .row{ display:flex; align-items:center; gap:8px }
.chip{
  width:16px; height:16px; border-radius:4px; border:1px solid rgba(0,0,0,.3);
}
.chip-low{ background:var(--low) }
.chip-moderate{ background:var(--moderate) }
.chip-high{ background:var(--high) }
.chip-veryHigh{ background:var(--veryHigh) }
.chip-severe{ background:var(--severe) }

.filters{ display:flex; flex-wrap:wrap; gap:8px; }
.filters label{
  display:flex; align-items:center; gap:6px; background:var(--chip); border:1px solid var(--ring);
  padding:6px 8px; border-radius:999px; font-size:12px; cursor:pointer;
}

.details{ padding:12px 16px; overflow:auto; }
.details h3{ margin:.2rem 0 .6rem 0; font-size:16px }
.kv{ display:grid; grid-template-columns:110px 1fr; gap:6px 10px; font-size:13px; color:var(--text) }
.kv .key{ color:var(--muted) }
.tip{ color:var(--muted); margin-top:10px }

/* Map */
#map{ width:100%; height:100vh }
.map-wrap{ position:relative }
.mapboxgl-ctrl-scale{ background:#0b1220 !important; color:var(--text) !important; border-color:var(--ring) !important; }

/* Popup */
.mapboxgl-popup-content{
  background:#0b1220; color:var(--text); border:1px solid var(--ring); border-radius:10px;
  padding:10px 12px; font-size:12px;
}
.mapboxgl-popup-tip{ border-top-color:#0b1220 !important; border-bottom-color:#0b1220 !important; }

/* Responsive */
@media (max-width: 880px){
  body{ grid-template-columns:1fr; grid-template-rows:340px 1fr; }
  .sidebar{ height:340px; overflow:auto; }
  #map{ height:calc(100vh - 340px) }
}
